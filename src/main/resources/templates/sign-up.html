<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="/style/intervals-game-stylesheet.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<!-- Navbar -->
<div class="fixed top-0 left-0 w-full z-50">
    <div th:replace="~{/components/nav :: nav}"></div>
</div>

<!-- Dodajemy padding-top aby treść formularza nie nachodziła na navbar -->
<div class="flex-grow flex items-center justify-center pt-24">

    <!-- Kontener formularza -->
    <div class="bg-white bg-opacity-80 p-8 rounded-lg shadow-lg w-full max-w-md">

        <!-- Nagłówek -->
        <h1 class="text-2xl font-bold text-center text-gray-800 mb-6">Create an Account</h1>

        <!-- Sekcja błędów -->
        <div th:if="${errorMessage}" class="bg-red-500 text-white text-center p-3 rounded-md mb-4">
            <p th:text="${errorMessage}"></p>
        </div>

        <form id="create-user-form" th:action="@{/sign-up}" th:object="${user}" method="post" onsubmit="return validateForm()">

            <!-- Imię -->
            <div class="mb-4">
                <label for="name" class="block text-gray-700 font-semibold mb-2">Name</label>
                <input type="text" th:field="*{name}" id="name" placeholder="Enter your name"
                       class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>
            </div>

            <!-- Nazwisko -->
            <div class="mb-4">
                <label for="surname" class="block text-gray-700 font-semibold mb-2">Surname</label>
                <input type="text" th:field="*{surname}" id="surname" placeholder="Enter your surname"
                       class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>
            </div>

            <!-- Login -->
            <div class="mb-4">
                <label for="login" class="block text-gray-700 font-semibold mb-2">Login</label>
                <input type="text" th:field="*{login}" id="login" placeholder="Choose a username"
                       class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>
            </div>

            <!-- Hasło -->
            <div class="mb-4">
                <label for="password" class="block text-gray-700 font-semibold mb-2">Password</label>
                <input type="password" th:field="*{password}" id="password" placeholder="Enter a strong password"
                       class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>
            </div>

            <!-- Wybór roli -->
            <div class="mb-6">
                <label for="role" class="block text-gray-700 font-semibold mb-2">Role</label>
                <select th:field="*{role}" id="role"
                        class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" required>
                    <option value="USER">User</option>
                    <option value="TEACHER">Teacher</option>
                </select>
            </div>

            <!-- Przycisk rejestracji -->
            <button type="submit"
                    class="w-full bg-indigo-500 text-white font-bold py-3 px-4 rounded-md hover:bg-indigo-600 transition duration-300">
                Create Account
            </button>

            <!-- Link do logowania -->
            <p class="text-center text-gray-600 text-sm mt-4">
                Already have an account?
                <a href="/login" class="text-indigo-500 font-semibold hover:underline">Log in</a>
            </p>
        </form>
    </div>
</div>

<script src="/script/validation/validation.js" defer></script>

</body>
</html>
